"use strict";jQuery.fn.getAttributes=function(){var e={};return this.length?(jQuery.each(this[0].attributes,function(t,a){e[a.name]=a.value}),e):this},jQuery.fn.getDatas=function(){var e={},t="data-vp-";return this.length?(jQuery.each(this[0].attributes,function(a,i){i.name.substring(0,t.length)==t&&(e[i.name.substring(t.length)]=i.value)}),e):this},jQuery.fn.exists=function(){return 0!==this.length},String.prototype.trimChar||(String.prototype.trimChar=function(e){return this.replace(new RegExp("^"+e+"+|"+e+"+$","g"),"")}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,a){return void 0!==e[a]?e[a]:t})}),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t,a){var i,n,r=-1;if((i=this.toString())&&"string"==typeof e)for(n=!0===a?e.toLowerCase():void 0;-1!==(r=void 0!==n?i.toLowerCase().indexOf(n,r>=0?r+t.length:0):i.indexOf(e,r>=0?r+t.length:0));)i=i.substring(0,r).concat(t).concat(i.substring(r+e.length));return i}),jQuery.fn.validationVal=function(){var e,t=this,a="",i=t.prop("tagName");(t.length>1&&"radio"!=t.attr("type")||t.attr("multiple"))&&(a=[]);var n=a;return t.each(function(n){var r=jQuery(this);switch(i){case"SELECT":a=(r.has("[multiple]"),r.val());break;case"INPUT":switch(t.attr("type")){case"text":case"hidden":a=r.val();break;case"radio":void 0!==(e=r.prop("checked"))&&!1!==e&&(a=r.val());break;case"checkbox":e=r.prop("checked"),t.length>1?void 0!==e&&!1!==e&&a.push(r.val()):(a=null,void 0!==e&&!1!==e&&(a=r.val()))}break;case"TEXTAREA":default:a=r.val()}}),null===a&&(a=n),a},jQuery.fn.vp_slideUp=function(e){this.each(function(t){var a=jQuery(this);a.hasClass("vp-hide")||a.slideUp("fast",function(){jQuery(this).addClass("vp-hide").slideDown(0,e)})})},jQuery.fn.vp_slideDown=function(e){this.each(function(t){var a=jQuery(this);a.hasClass("vp-hide")&&a.slideUp(0,function(){jQuery(this).removeClass("vp-hide").slideDown("fast",e)})})},jQuery.fn.vp_fadeOut=function(e){this.hasClass("vp-hide")||this.fadeOut("fast",function(){jQuery(this).addClass("vp-hide").fadeIn(0,e)})},jQuery.fn.vp_fadeIn=function(e){this.hasClass("vp-hide")&&this.fadeOut(0,function(){jQuery(this).removeClass("vp-hide").fadeIn("fast",e)})},jQuery.fn.vp_toggle=function(e){var t=this;t.hasClass("vp-hide")?t.slideUp(0,function(){jQuery(this).removeClass("vp-hide").slideDown("fast",e)}):t.slideUp("fast",function(){jQuery(this).addClass("vp-hide").slideDown(0,e)})};var vp={};function theValidate(e,t,a){var i=jQuery(e),n=i.val();""!==n&&(vp.validateNumeric("vp-textbox",n)||(i.val(t.min),a.slider("value",t.min)),n>t.max?(i.val(t.max),a.slider("value",t.max)):n<t.min?(i.val(t.min),a.slider("value",t.min)):a.slider("value",i.val()))}if(vp.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},vp.parseOpt=function(e){for(var t,a,i,n={},r=0;r<e.length;r++)"("==e[r]&&(t=r),")"==e[r]&&(a=r,n[(i=e.substring(t+1,a).split(":"))[0]]=vp.isNumber(i[1])?parseFloat(i[1]):i[1]);return n},vp.wp_ext2type=function(e){var t={image:["jpg","jpeg","bmp","gif","png","ico"],audio:["aac","ac3","aif","aiff","m3a","m4a","m4b","mka","mp1","mp2","mp3","ogg","oga","ram","wav","wma"],video:["asf","avi","divx","dv","flv","m4v","mkv","mov","mp4","mpeg","mpg","mpv","ogm","ogv","qt","rm","vob","wmv"],document:["doc","docx","docm","dotm","odt","pages","pdf","rtf","wp","wpd"],spreadsheet:["numbers","ods","xls","xlsx","xlsm","xlsb"],interactive:["swf","key","ppt","pptx","pptm","pps","ppsx","ppsm","sldx","sldm","odp"],text:["asc","csv","tsv","txt"],archive:["bz2","cab","dmg","gz","rar","sea","sit","sqx","tar","tgz","zip","7z"],code:["css","htm","html","php","js"]},a="default";for(var i in t)if(t.hasOwnProperty(i)&&-1!==jQuery.inArray(e,t[i])){a=i;break}return a},vp.get_url_extension=function(e){var t=new RegExp(/(.*)[\/\\]([^\/\\]+)\.(\w+)/i).exec(e);return t&&void 0!==t[3]?t[3]:""},vp.jqid=function(e){return"#"+e.replace(/([:\.\[\]])/g,"\\$1")},vp.jqidwild=function(e){return e="[id*="+(e=e.replace(/([:\.\[\]])/g,"\\$1"))+"]"},vp.jqname=function(e){return'[name="'+e+'"]'},vp.jqnamewild=function(e){return'[name*="'+e+'"]'},vp.thejqid=function(e,t){return"option"===t?vp.jqid(e):"metabox"===t?vp.jqidwild(e):e},vp.thejqname=function(e,t){return"option"===t?vp.jqname(e):"metabox"===t?vp.jqnamewild(e):e},vp.validateAlphabet=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.alphabet_validatable))||new RegExp(/^[A-Z\s]+$/i).test(t)},vp.validateAlphaNumeric=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.alphanumeric_validatable))||new RegExp(/^[A-Z0-9]+$/i).test(t)},vp.validateNumeric=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.numeric_validatable))||new RegExp(/^[-+]?[0-9]*\.?[0-9]+$/).test(t)},vp.validateEmail=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.email_validatable))||new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i).test(t)},vp.validateURL=function(e,t){return!(""!==t&&!jQuery.isArray(t)&&-1!=jQuery.inArray(e,vp_wp.url_validatable))||new RegExp(/^(ftp|http|https):\/\/[^ "]+$/i).test(t)},vp.validateMaxLength=function(e,t,a){return-1!=jQuery.inArray(e,vp_wp.maxlength_validatable)||t.length<=a},vp.validateMinLength=function(e,t,a){return-1!=jQuery.inArray(e,vp_wp.minlength_validatable)||t.length>=a},vp.validateRequired=function(e,t){return(!jQuery.isArray(t)||!jQuery.isEmptyObject(t))&&!!t},vp.fields_validation_loop=function(e){for(var t=0,a=0;a<e.length;a++){var i=e[a],n=jQuery(vp.jqid(i.name)),r=n.parents(".vp-meta-group").exists()?n.parents(".vp-meta-group"):n.parents(".vp-section");if(!(n.length<=0)&&!(n.hasClass("vp-dep-inactive")||r.exists()&&r.hasClass("vp-dep-inactive"))){var p=n.children("div.field").children(".validation-msgs").children("ul"),s=jQuery('[name="'+i.name+'"]').validationVal(),o=i.type,u=i.rules.split("|");i.nError=0;for(var l=0;l<u.length;l++){var c,d=u[l],v=d.indexOf("["),f=d.indexOf("]"),g="";switch(v>=0?d.substring(0,v):d){case"alphabet":vp.validateAlphabet(o,s)||(g=vp_wp.val_msg.alphabet.format());break;case"alphanumeric":vp.validateAlphaNumeric(o,s)||(g=vp_wp.val_msg.alphanumeric.format());break;case"numeric":vp.validateNumeric(o,s)||(g=vp_wp.val_msg.numeric.format());break;case"email":vp.validateEmail(o,s)||(g=vp_wp.val_msg.email.format());break;case"url":vp.validateURL(o,s)||(g=vp_wp.val_msg.url.format());break;case"maxlength":c=d.substring(v+1,f),vp.validateMaxLength(o,s,c)||(g=vp_wp.val_msg.maxlength.format(c));break;case"minlength":c=d.substring(v+1,f),vp.validateMinLength(o,s,c)||(g=vp_wp.val_msg.minlength.format(c));break;case"maxselected":c=d.substring(v+1,f),vp.validateMaxLength(o,s,c)||(g=vp_wp.val_msg.maxselected.format(c));break;case"minselected":c=d.substring(v+1,f),vp.validateMinLength(o,s,c)||(g=vp_wp.val_msg.minselected.format(c));break;case"required":vp.validateRequired(o,s)||(g=vp_wp.val_msg.required.format())}if(""!==g){i.nError+=1;var h=jQuery('<li class="validation-msg vp-error"></li>');h.html(g),h.appendTo(p)}}i.nError>0&&(t+=1,n.addClass("vp-error"))}}return t},vp.custom_check_radio_event=function(e,t){jQuery(e).delegate(t,"click",function(e){e.preventDefault();var t=jQuery(this).find("input"),a=t.attr("type");"radio"==a?(jQuery(this).parent().parent().find("input").each(function(e){jQuery(this).removeClass("checked"),t.prop("checked",!1)}),t.prop("checked",!0).change()):"checkbox"==a&&(t.is(":checked")?t.prop("checked",!1):t.prop("checked",!0),t.trigger("change"))}),jQuery(e).delegate(t,"change",function(e){e.preventDefault();var t=jQuery(this).find("input");t.is(":checked")?t.addClass("checked"):t.removeClass("checked")})},vp.binding_action=function(e,t,a,i){for(var n=jQuery(vp.jqid(t.source)),r=jQuery('[name="'+t.source+'"]'),p=[],s=0;s<e.length;s++){var o=jQuery(vp.thejqname(e[s],i)).validationVal();jQuery.isArray(o)&&0==o.length&&(o=null),p.push(o)}var u={action:"vp_ajax_wrapper",func:a,params:p},l=n.find(".vp-js-bind-loader"),c=n.find(".input");"vp-html"==t.type?l.vp_fadeIn():c.vp_fadeOut(function(){l.vp_fadeIn()}),jQuery.post(ajaxurl,u,function(e){if(l.vp_fadeOut(function(){c.vp_fadeIn()}),e.status){var a;switch(t.type){case"vp-select":case"vp-multiselect":r=jQuery('[name="'+t.source+'"]'),null!==e.data&&(a=e.data instanceof Array?e.data:[e.data],r.val(a).change());break;case"vp-checkbox":null!==e.data&&(a=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(a,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()}));break;case"vp-toggle":null!==e.data&&(e.data?r.prop("checked",!0).change():r.prop("checked",!1).change());break;case"vp-checkimage":null!==e.data&&(a=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(a,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()})),vp.init_tipsy();break;case"vp-radiobutton":null!==e.data&&(a=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(a,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()}));break;case"vp-radioimage":null!==e.data&&(a=e.data instanceof Array?e.data:[e.data],r.prop("checked",!1).change(),jQuery.each(a,function(e,t){r.filter('[value="'+t+'"]').prop("checked",!0).change()})),vp.init_tipsy();break;case"vp-html":null!==e.data&&(jQuery(vp.jqid(t.source+"_dom")).html(e.data),jQuery(vp.jqname(t.source)).val(e.data));break;default:(r=jQuery(vp.jqname(t.source))).val(e.data)}jQuery('[name="'+t.source+'"]:first').keypress().keyup().change().blur()}},"JSON")},vp.binding_event=function(e,t,a,i,n,r){var p=vp.thejqname(e[t],r),s=jQuery(vp.thejqid(e[t],r)).attr("data-vp-type");-1!==jQuery.inArray(s,["vp-select","vp-checkbox","vp-checkimage","vp-radiobutton","vp-radioimage","vp-multiselect","vp-toggle","vp-upload"])?jQuery(n).delegate(p,"change",function(){vp.binding_action(e,a,i,r)}):-1!==jQuery.inArray(s,["vp-textbox","vp-slider","vp-color","vp-date"])?jQuery(p).typing({stop:function(t,n){vp.binding_action(e,a,i,r)},delay:400}):jQuery(n).delegate(p,"change",function(){vp.binding_action(e,a,i,r)})},vp.items_binding_action=function(e,t,a,i){for(var n=jQuery(vp.jqid(t.source)),r=(jQuery('[name="'+t.source+'"]'),[]),p=0;p<e.length;p++)r.push(jQuery(vp.thejqname(e[p],i)).validationVal());var s={action:"vp_ajax_wrapper",func:a,params:r},o=n.find(".vp-js-bind-loader"),u=n.find(".input");u.vp_fadeOut(function(){o.vp_fadeIn()}),jQuery.post(ajaxurl,s,function(e){if(o.vp_fadeOut(function(){u.vp_fadeIn()}),e.status){var a;switch(t.type){case"vp-select":case"vp-multiselect":(a=jQuery('[name="'+t.source+'"]')).empty(),a.append(jQuery("<option></option>")),null!==e.data&&jQuery.each(e.data,function(e,t){a.append(jQuery("<option></option>").attr("value",t.value).text(t.label))});break;case"vp-checkbox":(a=u).empty(),a=jQuery(vp.jqid(t.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,i){a.append(jQuery('<label><input type="checkbox" name="'+t.source+'" value="'+i.value+'"><span></span>'+i.label+"</label>"))});break;case"vp-checkimage":(a=u).empty(),a=jQuery(vp.jqid(t.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,i){a.append(jQuery('<label><input type="checkbox" name="'+t.source+'" value="'+i.value+'"><img src="'+i.img+'" alt="'+i.label+'" class="vp-js-tipsy image-item" style="" original-title="'+i.value+'"></label>'))}),vp.init_tipsy();break;case"vp-radiobutton":(a=u).empty(),a=jQuery(vp.jqid(t.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,i){a.append(jQuery('<label><input type="radio" name="'+t.source+'" value="'+i.value+'"><span></span>'+i.label+"</label>"))});break;case"vp-radioimage":(a=u).empty(),a=jQuery(vp.jqid(t.source)).find(".input"),null!==e.data&&jQuery.each(e.data,function(e,i){a.append(jQuery('<label><input type="radio" name="'+t.source+'" value="'+i.value+'"><img src="'+i.img+'" alt="'+i.label+'" class="vp-js-tipsy image-item" style="" original-title="'+i.value+'"></label>'))}),vp.init_tipsy()}jQuery('[name="'+t.source+'"]:first').change().blur()}},"JSON")},vp.items_binding_event=function(e,t,a,i,n,r){var p=vp.thejqname(e[t],r),s=jQuery(vp.thejqid(e[t],r)).attr("data-vp-type");-1!==jQuery.inArray(s,["vp-select","vp-checkbox","vp-checkimage","vp-radiobutton","vp-radioimage","vp-multiselect","vp-toggle","vp-upload"])?jQuery(n).delegate(p,"change",function(){vp.items_binding_action(e,a,i,r)}):-1!==jQuery.inArray(s,["vp-textbox","vp-slider","vp-color","vp-date"])?jQuery(p).typing({stop:function(t,n){vp.items_binding_action(e,a,i,r)},delay:400}):jQuery(n).delegate(p,"change",function(){vp.binding_action(e,a,i,r)})},vp.dependency_action=function(e,t,a){for(var i=jQuery(vp.jqid(t.source)),n=(jQuery('[name="'+t.source+'"]'),[]),r=[],p=0;p<e.length;p++)r.push(jQuery(vp.jqid(e[p]))),n.push(jQuery('[name="'+e[p]+'"]').validationVal());var s={action:"vp_ajax_wrapper",func:a,params:n};jQuery.each(r,function(e,t){t.find(".vp-js-bind-loader").vp_fadeIn()}),jQuery.post(ajaxurl,s,function(e){jQuery.each(r,function(e,t){t.find(".vp-js-bind-loader").vp_fadeOut()}),e.status&&(e.data?(i.removeClass("vp-dep-inactive"),i.vp_fadeIn()):(i.addClass("vp-dep-inactive"),i.vp_fadeOut()))},"JSON")},vp.dependency_event=function(e,t,a,i,n){var r=vp.thejqname(e[t],"option"),p=jQuery(vp.thejqid(e[t],"option")).attr("data-vp-type");-1!==jQuery.inArray(p,["vp-select","vp-checkbox","vp-checkimage","vp-radiobutton","vp-radioimage","vp-multiselect","vp-toggle","vp-upload"])?jQuery(n).delegate(r,"change",function(){vp.dependency_action(e,a,i)}):-1!==jQuery.inArray(p,["vp-textbox","vp-slider","vp-color","vp-date"])?jQuery(r).typing({stop:function(t,n){vp.dependency_action(e,a,i)},delay:400}):jQuery(n).delegate(r,"change",function(){vp.binding_action(e,a,i,thecase)})},vp.init_slider=function(e){jQuery.fn.slider&&e.each(function(e,t){var a=jQuery(this),i=jQuery(this).getDatas();(i=vp.parseOpt(i.opt)).range="min",i.slide=function(e,t){a.prev(".slideinput").val(t.value),a.prev(".slideinput").trigger("keypress"),a.prev(".slideinput").trigger("keyup")},a.slider(i),a.prev(".slideinput").keypress(function(e){var t="number"==typeof e.which?e.which:e.keyCode;return!!(e.altKey||e.ctrlKey||e.shiftKey)||(-1!=jQuery.inArray(t,[45,46,8,0])||t>=48&&t<=57)}).blur(function(e){theValidate(this,i,a),a.prev(".slideinput").keypress().keyup()})})},vp.upload_callback=function(){},vp_wp.use_new_media_upload){var _orig_send_attachment=wp.media.editor.send.attachment,_orig_send_link=wp.media.editor.send.link,_orig_send_to_editor=window.send_to_editor;vp.upload_callback=function(e){var t=jQuery(this),a=t.parent(".buttons").prev("input"),i=t.parent(".buttons").siblings(".image").find("img");return wp.media.editor.send.link=function(e){var t=wp.media.post("vp_send_link_to_editor",{nonce:wp.media.view.settings.nonce.sendToEditor,src:e.linkUrl,title:e.title,html:wp.media.string.link(e),post_id:wp.media.view.settings.post.id});return console.log(t),t},wp.media.editor.send.attachment=function(e,t){a.val(t.url),a.trigger("change"),"image"===t.type?i.attr("src",t.url):i.attr("src",t.icon),wp.media.editor.send.attachment=_orig_send_attachment,window.send_to_editor=_orig_send_to_editor},window.send_to_editor=function(e){if(""!==e){var t=get_url_info(e);a.val(t.imgurl),a.trigger("change"),i.attr("src",t.iconurl)}window.send_to_editor=_orig_send_to_editor,wp.media.editor.send.attachment=_orig_send_attachment},wp.media.editor.open(t),!1}}else{_orig_send_to_editor=window.send_to_editor;vp.upload_callback=function(e){var t=jQuery(this).parent(".buttons").prev("input"),a=jQuery(this).parent(".buttons").siblings(".image").find("img");return tb_show("Upload Image","media-upload.php?referer=vafpress&TB_iframe=true&post_id=0"),window.send_to_editor=function(e){if(""!==e){var i=get_url_info(e);t.val(i.imgurl),t.trigger("change"),a.attr("src",i.iconurl)}window.send_to_editor=_orig_send_to_editor,tb_remove()},!1}}function get_url_info(e){var t,a,i,n,r=jQuery(e);return"A"==r.prop("tagName")?(i=jQuery(e).attr("href"),t=vp.get_url_extension(i),n=i,"image"!==(a=vp.wp_ext2type(t))&&(n=vp_wp.wp_include_url+"images/crystal/"+a+".png")):"IMG"==r.prop("tagName")&&(n=i=jQuery(e).attr("src")),{imgurl:i,iconurl:n}}vp.remove_upload_callback=function(e){var t=jQuery(this),a=t.parent(".buttons").prev("input"),i=t.parent(".buttons").siblings(".image").find("img");a.val(""),i.attr("src","")},jQuery(document).on("click",".vp-js-upload",vp.upload_callback),jQuery(document).on("click",".vp-js-remove-upload",vp.remove_upload_callback),vp.image_upload_callback=function(e){var t=jQuery(this),a=t.parent(".buttons").prev("input"),i=t.parent(".buttons").siblings(".image").find("img"),n=null,r=null;return(n=wp.media.frames.file_frame=wp.media({title:"Select Image",button:{text:"Select Image"},multiple:!1})).on("select",function(){r=n.state().get("selection").first().toJSON(),a.val(r.id),a.trigger("change"),r.sizes.thumbnail?i.attr("src",r.sizes.thumbnail.url):i.attr("src",r.sizes.full.url)}),n.open(),!1},jQuery(document).on("click",".vp-js-imageupload",vp.image_upload_callback),vp.init_multiimage=function(e){e.length<=0||e.each(function(){var e=jQuery(this),t=e.parent(".buttons").prev("input"),a=e.parent(".buttons").siblings(".gallery"),i=null;a.on("change",function(){var e=[];$(this).find("> span").each(function(){e.push($(this).data("id"))}),t.val(e.join(","))}),a.sortable({placeholder:"vp-pfui-ui-state-highlight",tolerance:"pointer",stop:function(){a.trigger("change")}}),a.on("click","span.close",function(e){$(this).parent().fadeOut(200,function(){$(this).remove(),a.trigger("change")})}),e.on("click",function(){(i=wp.media.frames.file_frame=wp.media({title:"Select Image",button:{text:"Select Image"},multiple:!0})).on("select",function(){i.state().get("selection").each(function(e){var t=e.attributes.url;void 0!==e.attributes.sizes&&void 0!==e.attributes.sizes.thumbnail&&(t=e.attributes.sizes.thumbnail.url),a.append('<span data-id="'+e.id+'" title="'+e.attributes.title+'"><img src="'+t+'" alt="" /><span class="close"></span></span>'),a.trigger("change")})}),i.open()})})},vp.init_colorpicker=function(e){e.length<=0||e.wpColorPicker({change:function(e,t){setTimeout(function(){control.setting.set(picker.val())},100)}})},vp.init_datepicker=function(e){if(jQuery.fn.datepicker){if(e.length<=0)return;e.each(function(){var e=jQuery(this).getDatas();(e=vp.parseOpt(e.opt)).onSelect=function(){jQuery(this).trigger("keypress"),jQuery(this).trigger("keyup"),jQuery(this).trigger("blur")},jQuery(this).datepicker(e),jQuery(this).datepicker("setDate",e.value)})}},vp.init_controls=function(e){vp.init_datepicker(e.find(".vp-js-datepicker")),vp.init_fontawesome_chooser(e.find(".vp-js-fontawesome")),vp.init_sorter(e.find(".vp-js-sorter")),vp.init_colorpicker(e.find(".vp-js-colorpicker")),vp.init_slider(e.find(".vp-js-slider")),vp.init_ace_editor(e.find(".vp-js-codeeditor")),vp.init_wpeditor(e.find(".vp-js-wpeditor")),vp.init_multiimage(e.find(".vp-js-multiimage"))},vp.init_fontawesome_chooser=function(e){if(jQuery.fn.select2){if(e.length<=0)return;var t=function(e){return'<span class="fontawesome"><i class="'+e.id+'"></i>'+e.text+"</span>"};e.select2({formatResult:t,formatSelection:t,escapeMarkup:function(e){return e},allowClear:!0,placeholder:vp_wp.ctrl_msg.fac_placeholder})}},vp.init_select2=function(e){if(jQuery.fn.select2){if(e.length<=0)return;e.select2({allowClear:!0,placeholder:vp_wp.ctrl_msg.select2_placeholder})}},vp.init_sorter=function(e){if(jQuery.fn.select2Sortable){if(e.length<=0)return;e.each(function(e,t){var a=jQuery(t),i=a.getDatas();i=vp.parseOpt(i.opt),a.select2(i).select2Sortable({bindOrder:"sortableStop"})})}},vp.init_tipsy=function(){jQuery.fn.tipsy&&(jQuery(".vp-js-tipsy.description").tipsy({live:!0,gravity:"e"}),jQuery(".vp-js-tipsy.slideinput").tipsy({live:!0,trigger:"focus"}),jQuery(".vp-js-tipsy.image-item").tipsy({live:!0}))},vp.init_tipsy(),vp.init_ace_editor=function(e){if("undefined"!==window.ace){if(e.length<=0)return;e.each(function(){var e=ace.edit(jQuery(this).get(0)),t=jQuery(this).prev(),a=jQuery(this).getDatas();a=vp.parseOpt(a.opt),e.setTheme("ace/theme/"+a.theme),e.getSession().setMode("ace/mode/"+a.mode),e.getSession().setUseWrapMode(!0),e.setShowPrintMargin(!1),e.getSession().setValue(t.val()),e.getSession().on("change",function(){t.val(e.getSession().getValue())}),t.on("change",function(){e.getSession().setValue(t.val())})})}},void 0!==window.KIA_metabox&&KIA_metabox.mediaButtons(),vp.init_wpeditor=function(e){if(void 0!==window.KIA_metabox){if(e.length<=0)return;KIA_metabox.runTinyMCE(e)}},vp.tinyMCE_save=function(){void 0!==window.tinyMCE&&tinyMCE.triggerSave(!1,!0)};
